:root {
  --bg: #030712;
  --glass: rgba(10, 18, 35, 0.62);
  --glass-2: rgba(16, 27, 50, 0.52);
  --text: #e2e8f0;
  --muted: #94a3b8;
  --primary: #7c3aed;
  --accent: #22d3ee;
  --line: rgba(148, 163, 184, .22);
}
* { box-sizing: border-box; }
html, body { margin: 0; height: 100%; }
body { font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial; color: var(--text); background: var(--bg); overflow: hidden; }
.bg-layer { position: fixed; inset: 0; z-index: 0; background: radial-gradient(1200px 600px at 20% 10%, rgba(139,92,246,.16), transparent 65%), radial-gradient(900px 500px at 80% 80%, rgba(34,211,238,.12), transparent 65%), #020617; }
.susanoo-svg { width: 100%; height: 100%; filter: drop-shadow(0 0 28px rgba(124,58,237,.35)); opacity: .9; }
.app-shell { position: relative; z-index: 2; width: min(1200px, 94vw); margin: 1.2rem auto; display: grid; grid-template-rows: auto 1fr; gap: 1rem; height: calc(100vh - 2.4rem); }
.glass { backdrop-filter: blur(16px); -webkit-backdrop-filter: blur(16px); background: linear-gradient(180deg, var(--glass), var(--glass-2)); border: 1px solid var(--line); box-shadow: 0 10px 35px rgba(2,6,23,.45); }
.topbar { border-radius: 16px; padding: .85rem 1rem; display: flex; align-items: center; justify-content: space-between; }
.brand { display: flex; align-items: center; gap: .8rem; }
.dot { width: 12px; height: 12px; border-radius: 999px; background: linear-gradient(135deg, var(--accent), var(--primary)); box-shadow: 0 0 18px rgba(34,211,238,.7); }
.brand h1 { margin: 0; font-size: 1rem; }
.brand p { margin: .15rem 0 0; color: var(--muted); font-size: .85rem; }
.actions { display:flex; align-items:center; gap:.45rem; }
.mini { border:1px solid var(--line); border-radius:999px; background:rgba(255,255,255,.06); color:var(--text); font-size:.74rem; padding:.35rem .6rem; cursor:pointer; }
.status { padding: .4rem .7rem; border-radius: 999px; font-size: .8rem; border: 1px solid var(--line); color: #cbd5e1; }
.chat-wrap { border-radius: 18px; display: grid; grid-template-rows: auto 1fr auto auto; min-height: 0; }
.chat-header { padding: .8rem 1rem; border-bottom: 1px solid var(--line); display: flex; justify-content: space-between; align-items: center; color: var(--muted); font-size: .9rem; }
.chat { padding: 1rem; overflow: auto; display: flex; flex-direction: column; gap: .85rem; scrollbar-width: thin; scrollbar-color: var(--primary) transparent; }
.chat::-webkit-scrollbar { width: 6px; }
.chat::-webkit-scrollbar-thumb { background: linear-gradient(var(--primary), var(--accent)); border-radius: 999px; }
.msg { display: flex; gap: .65rem; max-width: 78%; }
.msg.user { align-self: flex-end; flex-direction: row-reverse; }
.avatar { width: 34px; height: 34px; border-radius: 10px; display: grid; place-items: center; background: rgba(30,41,59,.85); border: 1px solid var(--line); font-weight: 700; position: relative; }
.msg.ai .avatar::after { content:''; position:absolute; inset:-2px; border-radius:12px; border:1px solid rgba(34,211,238,.45); animation:pulse 2.2s infinite; }
@keyframes pulse { 0%,100%{opacity:.35} 50%{opacity:.9} }
.msg.user .avatar { background: rgba(76,29,149,.6); }
.bubble { border: 1px solid var(--line); border-radius: 14px; padding: .72rem .82rem; background: rgba(15,23,42,.78); }
.msg.ai .bubble { border-left: 2px solid var(--accent); }
.msg.user .bubble { background: linear-gradient(135deg, rgba(124,58,237,.35), rgba(30,64,175,.3)); }
.bubble p { margin: 0; white-space: pre-wrap; }
.bubble time { display: block; margin-top: .35rem; font-size: .72rem; color: var(--muted); opacity:.35; transition:.2s; }
.bubble:hover time { opacity:.7; }
.typing { color: var(--muted); font-size:.9rem; padding:.15rem .2rem; }
.composer { padding: .8rem; border-top: 1px solid var(--line); display: grid; grid-template-columns: 1fr auto; gap: .7rem; }
textarea { resize: none; max-height: 180px; border: 1px solid var(--line); border-radius: 12px; background: rgba(255,255,255,.05); backdrop-filter: blur(12px); color: var(--text); padding: .75rem .85rem; font: inherit; outline: none; }
textarea:focus { border-color: rgba(34,211,238,.6); box-shadow: 0 0 0 3px rgba(34,211,238,.15); }
.send { border: none; border-radius: 12px; padding: 0 1rem; font-weight: 600; color: #fff; background: linear-gradient(135deg, #7c3aed, #2563eb); cursor: pointer; }
.send:hover { filter: brightness(1.08); }
.hint { margin: 0; padding: 0 .9rem .8rem; color: var(--muted); font-size: .78rem; }
@media (max-width: 720px) { .msg { max-width: 92%; } .brand p { display: none; } .mini { display:none; } }

.login-modal{position:fixed;inset:0;z-index:30;display:grid;place-items:center;background:rgba(2,6,23,.78)}
.login-card{width:min(460px,92vw);padding:1.2rem;border-radius:16px}
.login-card h2{margin:.2rem 0 .4rem}
.login-card p{color:var(--muted);margin:0 0 .8rem}
.login-form{display:grid;gap:.6rem}
.login-form input{border:1px solid var(--line);border-radius:10px;background:rgba(255,255,255,.04);color:var(--text);padding:.7rem .8rem}
.login-form input:focus{outline:none;border-color:rgba(34,211,238,.6)}
